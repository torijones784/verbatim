<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>Puzzle</title>
    <link rel="stylesheet" href="puzzlestyles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  </head>

  <body>
    <div class="top-banner">
        Why hire a coder MBA to do a writer's job? <a href="#">Learn more here</a>
    </div>
      
    <!-- Navigation -->
    <nav>
        <div class="logo">
            <img src="./images/puzzle_logo_two.png" alt="Puzzle Logo" />
            <span class="logo-text">Puzzle</span>
        </div>
        <div class="nav-links">
            <a href="#" class="nav-link">Solutions</a>
            <a href="#" class="nav-link">Why Puzzle</a>
            <a href="#" class="nav-link">Pricing</a>
            <a href="#" class="nav-link">Resources</a>
        </div>
        <div class="auth-buttons">
            <a href="#" class="login">Sign In</a>
            <a href="#" class="demo-btn">Book a Demo</a>
            <a href="#" class="cta-btn">Get Started</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-container">
            <div class="stage-label">by Tori Jones</div>
            <h1 class="hero-title">The Startup Accounting Game of <span class="life-text"><span class="life-l">L</span><span class="life-i">I</span><span class="life-f">F</span><span class="life-e">E</span></span></h1>
            <p class="hero-subtitle">You found your great idea. Now see how Puzzle can support you at every stage—from formation to exit—with real-time financial insights, automated bookkeeping, and the tools ambitious founders need to build lasting companies.</p>
            <div class="hero-buttons">
                <a href="#" class="primary-btn" id="game-btn">Get Started</a>
            </div>
        </div>
    </section>

    <!-- Game Path Section -->
    <section class="game-section">
      <div class="game-container" id="game-container">
        <!-- Scattered tiles will be generated here by JavaScript -->
        <div class="center-stage" id="center-stage">
          <div class="stage-placeholder">?</div>
        </div>
      </div>
    </section>
  </body>

  <script>
    // Game stages data
    const stages = [
      { name: 'PRE-SEED', color: '#4f46e5', bgColor: '#4f46e5' },
      { name: 'SEED', color: '#10b981', bgColor: '#10b981' },
      { name: 'SERIES A', color: '#3b82f6', bgColor: '#3b82f6' },
      { name: 'SERIES B/C', color: '#7c3aed', bgColor: '#7c3aed' },
      { name: 'EXIT/IPO', color: '#f59e0b', bgColor: '#f59e0b' }
    ];

    let currentStage = -1;
    let gameStarted = false;
    let tiles = [];

    // Initialize the game
    function initGame() {
      const container = document.getElementById('game-container');
      const centerX = 50; // percentage
      const centerY = 50; // percentage
      const radius = 150; // pixels from center
      
      // Create tiles in circular positions around the div
      stages.forEach((stage, index) => {
        const tile = document.createElement('div');
        tile.className = 'game-tile';
        tile.setAttribute('data-stage', index);
        tile.innerHTML = `
          <div class="tile-inner" style="background-color: ${stage.bgColor};">
            <span class="tile-text">${stage.name}</span>
          </div>
        `;
        
        // Position tiles in a circle around the center of the container
        const angle = (index / stages.length) * 2 * Math.PI;
        const x = centerX + (radius / container.offsetWidth * 100) * Math.cos(angle);
        const y = centerY + (radius / container.offsetHeight * 100) * Math.sin(angle);
        
        tile.style.left = x + '%';
        tile.style.top = y + '%';
        tile.style.transform = 'translate(-50%, -50%)';
        
        // Set different spin speeds for wheel effect
        tile.style.setProperty('--spin-speed', (1.5 + Math.random() * 2) + 's');
        tile.style.setProperty('--spin-delay', Math.random() * 0.5 + 's');
        
        container.appendChild(tile);
        tiles.push(tile);
      });
    }

    // Spin tiles in clockwise wheel motion
    function spinTiles() {
      tiles.forEach((tile, index) => {
        tile.classList.add('spinning-wheel');
      });
    }

    // Move tile to center
    function moveTileToCenter(stageIndex) {
      const tile = tiles[stageIndex];
      const centerStage = document.getElementById('center-stage');
      
      setTimeout(() => {
        // Stop spinning
        tiles.forEach(t => t.classList.remove('spinning-wheel'));
        
        // Move current tile to center
        tile.classList.add('centered');
        tile.style.left = '50%';
        tile.style.top = '50%';
        tile.style.transform = 'translate(-50%, -50%) scale(1.2)';
        tile.style.zIndex = '100';
        
        // Hide placeholder
        centerStage.querySelector('.stage-placeholder').style.display = 'none';
        
      }, 5000);
    }

    // Game button click handler
    document.getElementById('game-btn').addEventListener('click', function(e) {
      e.preventDefault();
      
      if (!gameStarted) {
        // First click - start the game
        gameStarted = true;
        this.textContent = 'Spin';
        currentStage = 0;
        
        spinTiles();
        moveTileToCenter(currentStage);
        
      } else {
        // Subsequent clicks - move to next stage
        if (currentStage < stages.length - 1) {
          // Hide current centered tile
          if (currentStage >= 0) {
            tiles[currentStage].classList.remove('centered');
            tiles[currentStage].style.display = 'none';
          }
          
          currentStage++;
          spinTiles();
          moveTileToCenter(currentStage);
          
        } else {
          // Game completed
          this.textContent = 'Play Again';
          this.addEventListener('click', function() {
            location.reload();
          });
        }
      }
    });

    // Initialize game when page loads
    document.addEventListener('DOMContentLoaded', initGame);
  </script>
</html>